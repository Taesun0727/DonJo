pipeline {

   agent any
   stages{
   stage('백엔드 자동 배포') {
             stages {
                 stage('gradlew 권한'){
                                steps{
                                    dir('backend'){
                                    sh "chmod +x gradlew"
}
                                }

                               }
               stage('백엔드 이미지 생성'){
                steps{
                    dir('backend'){
                    sh "./gradlew bootBuildImage"
                    }
                }

               }



               // 스프링 Run
//                stage('backend_serve') {
//                  steps {
//                    sh "docker run -d -p 8080:8080 --name test"
//                  }
//                }
               }
}
}
}
