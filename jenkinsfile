pipeline {

   agent any

   stages{
   stage('백엔드 자동 배포') {
             stages {
                 stage('gradlew 권한'){
                                steps{
                                    dir('backend'){
                                    sh "chmod +x gradlew"
}
                                }

                               }
               stage('백엔드 이미지 생성'){
                steps{
                    dir('backend'){
                    sh "./gradlew bootBuildImage"
                    }
                }

               }

               stage('컨테이너 생성') {
                 steps {
                   sh "docker run -d -p 5000:8081 backend"
                 }
               }
           }
}
}
}
